<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html" lang="pt-BR"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<title>Manager Companies</title>
	<h:outputStylesheet library="templates" name="login.css" />
	<h:outputStylesheet library="webjars"
		name="font-awesome/5.15.4/css/all.min-jsf.css" />

</h:head>
<h:body>
	<div class="content">
		<div class="content-info">
			<h1>Company Manager</h1>
			<h4>Company Manager é uma aplicação web que permite gerenciar
				empresas com cadastro simplificado.</h4>
		</div>
		<div class="content-login">
			<h:form class="content-login-box">
				<p:inputText class="inputs" placeholder="Email" />
				<p:password class="inputs" placeholder="Senha" />
				<p:commandButton value="Entrar" styleClass="btn btn-enter" />

				<h:panelGroup layout="block">
					<p:commandLink value="Esqueceu a senha?"
						styleClass="forgot-password" />
				</h:panelGroup>

				<hr />

				<p:commandButton value="Criar Nova Conta"
					actionListener="#{userBean.prepareNewUser}"
					oncomplete="PF('userDialogWidgetVar').show()" styleClass="ui-button-success"
					update="userDialog" process="@this">
					<p:resetInput target="userDialog" />
				</p:commandButton>

				<p:dialog id="userDialog" header="Cadastre-se"
					widgetVar="userDialogWidgetVar" resizable="false" modal="true"
					closable="true">

					<p:defaultCommand target="saveCommandButton" scope="userDialog" />

					<p:panelGrid id="usersPanelGrid" columns="2"
						styleClass="ui-panelgrid-blank"
						rendered="#{userBean.user ne null}">

						<p:outputLabel value="Nome" for="firstName" />
						<p:inputText id="firstName" value="#{userBean.user.firstName}"
							required="true" />

						<p:outputLabel value="Sobrenome" for="lastName" />
						<p:inputText id="lastName" value="#{userBean.user.lastName}" />

						<p:outputLabel value="Email" for="email" />
						<p:inputMask id="email" mask=""
							value="#{userBean.user.email}" required="true" />

						<p:outputLabel value="Data de Nascimento" for="birthDate" />
						<p:calendar id="birthDate" locale="pt_BR" pattern="dd/MM/yyyy"
							showOn="button" value="#{userBean.user.birthDate}" required="true" />

						<p:outputLabel for="password" value="Senha" />
						<p:password id="password" value="#{userBean.user.password}" required="true" />
						
						<h:outputLabel />

						<p:commandButton id="saveCommandButton" value="Cadastrar" action="#{userBean.save}"
							oncomplete="if (!args.validationFailed) PF('userDialogWidgetVar').hide();" process="userDialog" />
					</p:panelGrid>
				</p:dialog>
			</h:form>
		</div>
	</div>
	<footer class="footer">
		<p>
			Feito com <span class="heart">❤</span> por <a
				href="https://github.com/lasbrDev" target="_blank">✝ lasbrDev ✝</a>
		</p>
	</footer>
</h:body>
</html>